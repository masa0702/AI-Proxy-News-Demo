# AI-Proxy-News-Demo

このリポジトリは、会見の話題とバイアスを選択すると、既存の知識データベースと質問・回答を利用してニュース記事を生成するシンプルな Web アプリケーションのデモです。Gemini API キーは `.env` に記載し、API 呼び出し部分は現在モック関数で置き換えています。

## 必要環境
- Docker
- Docker Compose

## セットアップ手順
1. プロジェクトのルートに `.env` ファイルを作成し、以下のように Gemini API キーを設定します。
   ```
   GEMINI_API_KEY=あなたのAPIキー
   ```
2. リポジトリをクローンしたディレクトリで以下を実行してコンテナを起動します。
   ```bash
   docker compose up --build
   ```
3. ブラウザで `http://localhost:8000` にアクセスします。

## 使い方
1. トピックとバイアスをそれぞれプルダウンメニューから選択します。
2. **生成** ボタンをクリックすると、選択された条件に基づく記事が表示されます。記事の生成では温度 0.2 の Gemini API を想定していますが、デモでは `mock_gemini` 関数で固定のメッセージを返します。

## ファイル構成
- `app/main.py` – FastAPI アプリケーション本体
- `app/data.py` – `data/` ディレクトリからサンプルデータを読み込むユーティリティ
- `app/templates/index.html` – フロントエンドの HTML テンプレート
- `data/` – 会見の話題や知識、質問、バイアスのサンプル JSON
- `Dockerfile` – アプリケーションイメージのビルド定義
- `docker-compose.yml` – `localhost:8000` でアプリを起動する構成
- `requirements.txt` – Python 依存パッケージ
- `.env` – Gemini API キーを設定する環境変数ファイル（リポジトリには含まれません）

## デモ実施手順
1. 端末で `docker compose up --build` を実行してコンテナを起動します。初回はイメージのビルドが行われます。
2. ビルドと起動が完了したらブラウザで `http://localhost:8000` にアクセスします。
3. 画面上部のプルダウンから任意の会見トピックとバイアスを選択します。
4. **生成** ボタンを押すと、質問・回答を利用したニュース記事がページ下部に表示されます。
5. デモを終了する場合は `Ctrl+C` で Docker Compose を停止してください。

実際に Gemini API を使用する場合は、`app/main.py` の `mock_gemini` 関数を API 呼び出しに置き換えてください。
